flowchart TD
    %% Start and Input Validation
    START([ğŸš€ Application Start])
    START --> CMDARGS{Command Line Arguments Provided?}
    
    %% Command Line Processing
    CMDARGS -->|Yes| VALIDATEPATH[ğŸ“ Validate Directory Path&lt;br/&gt;dotnet run /path/to/images]
    CMDARGS -->|No| INTERACTIVE[ğŸ’¬ Interactive Mode&lt;br/&gt;Prompt User for Directory]
    INTERACTIVE --> GETINPUT[âŒ¨ï¸ Get User Input&lt;br/&gt;Directory Path]
    GETINPUT --> VALIDATEPATH
    
    %% Path Validation and Error Handling
    VALIDATEPATH --> PATHEXISTS{Directory Exists?}
    PATHEXISTS -->|No| ERRORMSG1[âŒ Error: Directory not found&lt;br/&gt;Display error message]
    ERRORMSG1 --> END1([ğŸ›‘ Application Exit])
    PATHEXISTS -->|Yes| READACCESS{Read Access Available?}
    READACCESS -->|No| ERRORMSG2[âŒ Error: Permission denied&lt;br/&gt;Check read permissions]
    ERRORMSG2 --> END1
    
    %% Image Discovery and Filtering
    READACCESS -->|Yes| SCANDIR[ğŸ” Scan Directory for Images&lt;br/&gt;Get all files in directory]
    SCANDIR --> FILTEREXT[ğŸ¯ Filter by Extensions&lt;br/&gt;*.jpg, *.jpeg, *.png, *.bmp, *.gif]
    FILTEREXT --> SORTFILES[ğŸ“Š Sort Files Alphabetically&lt;br/&gt;Ensure consistent order]
    
    %% Image Count Validation
    SORTFILES --> IMGCOUNT{Images Found > 0?}
    IMGCOUNT -->|No| ERRORMSG3[âŒ Error: No valid images found&lt;br/&gt;Check supported formats]
    ERRORMSG3 --> END1
    
    %% Configuration Setup
    IMGCOUNT -->|Yes| LOADCONFIG[âš™ï¸ Load Configuration Constants&lt;br/&gt;Width: 1920px&lt;br/&gt;Height: 1080px&lt;br/&gt;Duration: 2.0s&lt;br/&gt;Frame Rate: 30 FPS]
    
    %% FFmpeg Validation
    LOADCONFIG --> CHECKFFMPEG[ğŸ¬ Check FFmpeg Installation&lt;br/&gt;Verify FFmpeg in PATH]
    CHECKFFMPEG --> FFMPEGOK{FFmpeg Available?}
    FFMPEGOK -->|No| ERRORMSG4[âŒ Error: FFmpeg not found&lt;br/&gt;Install FFmpeg first]
    ERRORMSG4 --> END1
    FFMPEGOK -->|Yes| FFMPEGCMD[ğŸ¥ Build FFmpeg Command&lt;br/&gt;Input: temp frames&lt;br/&gt;Output: MP4 video&lt;br/&gt;Codec: H.264&lt;br/&gt;Frame rate: 30fps]
    %% --- IGNORE ---
    
    %% Temporary Directory Setup
    FFMPEGOK -->|Yes| CREATETEMP[ğŸ“‚ Create Temporary Directory&lt;br/&gt;For processed frames]
    CREATETEMP --> INITPROGRESS[ğŸ“ˆ Initialize Progress Tracking&lt;br/&gt;Image counter = 0]
    
    %% Main Image Processing Loop
    INITPROGRESS --> PROCESSLOOP{More Images to Process?}
    PROCESSLOOP -->|No| CLEANUP
    PROCESSLOOP -->|Yes| LOADIMG[ğŸ–¼ï¸ Load Next Image&lt;br/&gt;Using SixLabors.ImageSharp]
    
    %% Image Loading Error Handling
    LOADIMG --> IMGVALID{Image Load Successful?}
    IMGVALID -->|No| SKIPIMG[âš ï¸ Skip Corrupted Image&lt;br/&gt;Log warning message]
    SKIPIMG --> NEXTIMG[â¡ï¸ Move to Next Image]
    NEXTIMG --> PROCESSLOOP
    
    %% Image Processing Pipeline
    IMGVALID -->|Yes| GETDIMS[ğŸ“ Get Image Dimensions&lt;br/&gt;Original width Ã— height]
    GETDIMS --> CALCRATIO[ğŸ§® Calculate Aspect Ratio&lt;br/&gt;ratio = width / height]
    CALCRATIO --> CALCNEWDIMS[ğŸ“ Calculate New Dimensions&lt;br/&gt;Fit within 1920Ã—1080&lt;br/&gt;Maintain aspect ratio]
    
    %% Canvas Creation and Background
    CALCNEWDIMS --> CREATECANVAS[ğŸ¨ Create Canvas&lt;br/&gt;1920Ã—1080 black background]
    CREATECANVAS --> RESIZEIMG[ğŸ”„ Resize Image&lt;br/&gt;To calculated dimensions&lt;br/&gt;High-quality resampling]
    
    %% Image Positioning
    RESIZEIMG --> CALCPOS[ğŸ“ Calculate Center Position&lt;br/&gt;x = (1920 - newWidth) / 2&lt;br/&gt;y = (1080 - newHeight) / 2]
    CALCPOS --> COMPOSITEIMG[ğŸ­ Composite Image on Canvas&lt;br/&gt;Center image on black background]
    
    %% Frame Generation
    COMPOSITEIMG --> CALCFRAMES[ğŸï¸ Calculate Frame Count&lt;br/&gt;frames = duration Ã— frameRate&lt;br/&gt;Default: 2.0s Ã— 30fps = 60 frames]
    CALCFRAMES --> GENFRAMES[ğŸ¬ Generate Video Frames&lt;br/&gt;Duplicate image for each frame]
    
    %% Frame Saving
    GENFRAMES --> SAVEFRAMES[ğŸ’¾ Save Frames to Temp Directory&lt;br/&gt;frame_001.png, frame_002.png, etc.]
    SAVEFRAMES --> UPDATEPROGRESS[ğŸ“Š Update Progress Counter&lt;br/&gt;Display current image number]
    UPDATEPROGRESS --> PROCESSLOOP
    
    %% Video Creation Process
    CLEANUP --> GENFILENAME[ğŸ“ Generate Output Filename&lt;br/&gt;new_slide_show-YYYY-MM-DD.mp4]
    GENFILENAME --> FFMPEGCMD[ğŸ¥ Build FFmpeg Command&lt;br/&gt;Input: temp frames&lt;br/&gt;Output: MP4 video&lt;br/&gt;Codec: H.264&lt;br/&gt;Frame rate: 30fps]
    
    %% FFmpeg Execution
    FFMPEGCMD --> RUNFFMPEG[â–¶ï¸ Execute FFmpeg Process&lt;br/&gt;Combine frames into video]
    RUNFFMPEG --> FFMPEGSTATUS{FFmpeg Success?}
    FFMPEGSTATUS -->|No| ERRORMSG5[âŒ FFmpeg Error&lt;br/&gt;Check FFmpeg installation&lt;br/&gt;and permissions]
    ERRORMSG5 --> CLEANUPEXIT
    
    %% Successful Completion
    FFMPEGSTATUS -->|Yes| VERIFYVIDEO[âœ… Verify Video File Created&lt;br/&gt;Check file exists and size &gt; 0]
    VERIFYVIDEO --> VIDEOSIZE[ğŸ“Š Display Video File Size&lt;br/&gt;Show creation timestamp]
    VIDEOSIZE --> CLEANUPEXIT[ğŸ§¹ Cleanup Process&lt;br/&gt;Delete temporary directory&lt;br/&gt;Remove temp frames]
    
    %% Final Output
    CLEANUPEXIT --> SUCCESS[ğŸ‰ Success Message&lt;br/&gt;Video created successfully&lt;br/&gt;Location: output directory]
    SUCCESS --> END2([âœ¨ Application Complete])
    
    %% Dependency and Library Subgraphs
    subgraph DEPS [ğŸ“š Dependencies & Libraries]
        direction TB
        IMGSHARP[ğŸ–¼ï¸ SixLabors.ImageSharp&lt;br/&gt;â€¢ Image loading &amp; manipulation&lt;br/&gt;â€¢ Format support (JPEG, PNG, BMP, GIF)&lt;br/&gt;â€¢ High-quality resampling&lt;br/&gt;â€¢ Canvas operations]
        FFMPEGCORE[ğŸ¬ FFMpegCore&lt;br/&gt;â€¢ FFmpeg wrapper for .NET&lt;br/&gt;â€¢ Video encoding/decoding&lt;br/&gt;â€¢ Frame processing&lt;br/&gt;â€¢ MP4 output generation]
        SYSDRAW[ğŸ¨ System.Drawing.Common&lt;br/&gt;â€¢ Additional image format support&lt;br/&gt;â€¢ Legacy compatibility&lt;br/&gt;â€¢ Extended graphics operations]
        NETCORE[âš™ï¸ .NET 8.0 Core&lt;br/&gt;â€¢ Cross-platform runtime&lt;br/&gt;â€¢ File I/O operations&lt;br/&gt;â€¢ Process management&lt;br/&gt;â€¢ Memory management]
    end
    
    %% Configuration Subgraph
    subgraph CONFIG [âš™ï¸ Configuration Settings]
        direction TB
        SLIDEWIDTH[ğŸ“ SlideShowWidth: 1920px&lt;br/&gt;Standard HD resolution]
        SLIDEHEIGHT[ğŸ“ SlideShowHeight: 1080px&lt;br/&gt;Standard HD resolution]
        DURATION[â±ï¸ SlideDurationSeconds: 2.0s&lt;br/&gt;Time per image display]
        FRAMERATE[ğŸï¸ FrameRate: 30 FPS&lt;br/&gt;Smooth video playback]
        QUALITY[ğŸ¨ Image Quality Settings&lt;br/&gt;â€¢ High-quality resampling&lt;br/&gt;â€¢ Bicubic interpolation&lt;br/&gt;â€¢ Anti-aliasing enabled]
    end
    
    %% Error Handling Subgraph
    subgraph ERRORHANDLING [ğŸ›¡ï¸ Error Handling & Recovery]
        direction TB
        PATHMISSING[ğŸ“ Missing Directory&lt;br/&gt;â€¢ Clear error message&lt;br/&gt;â€¢ Path validation&lt;br/&gt;â€¢ User guidance]
        IMGCORRUPT[ğŸ–¼ï¸ Corrupted Images&lt;br/&gt;â€¢ Skip invalid files&lt;br/&gt;â€¢ Continue processing&lt;br/&gt;â€¢ Log warnings]
        FFMPEGTROUBLE[ğŸ¬ FFmpeg Issues&lt;br/&gt;â€¢ Installation check&lt;br/&gt;â€¢ PATH verification&lt;br/&gt;â€¢ Clear error messages]
        PERMISSIONS[ğŸ”’ Permission Problems&lt;br/&gt;â€¢ Read access validation&lt;br/&gt;â€¢ Write access check&lt;br/&gt;â€¢ Helpful error messages]
        MEMORYISSUES[ğŸ’¾ Memory Management&lt;br/&gt;â€¢ Large image handling&lt;br/&gt;â€¢ Resource cleanup&lt;br/&gt;â€¢ Garbage collection]
    end
    
    %% Output Formats Subgraph
    subgraph FORMATS [ğŸ“ Supported Formats & Output]
        direction TB
        INPUTFMTS[ğŸ“¥ Input Formats&lt;br/&gt;â€¢ JPEG (.jpg, .jpeg)&lt;br/&gt;â€¢ PNG (.png)&lt;br/&gt;â€¢ BMP (.bmp)&lt;br/&gt;â€¢ GIF (.gif)]
        OUTPUTFMT[ğŸ“¤ Output Format&lt;br/&gt;â€¢ MP4 video&lt;br/&gt;â€¢ H.264 codec&lt;br/&gt;â€¢ 1920Ã—1080 resolution&lt;br/&gt;â€¢ 30 FPS frame rate]
        NAMING[ğŸ“ File Naming&lt;br/&gt;â€¢ new_slide_show-YYYY-MM-DD.mp4&lt;br/&gt;â€¢ Automatic date inclusion&lt;br/&gt;â€¢ Same directory as input]
    end
    
    %% Performance Subgraph
    subgraph PERFORMANCE [âš¡ Performance Features]
        direction TB
        ASPECTRATIO[ğŸ“ Aspect Ratio Preservation&lt;br/&gt;â€¢ Maintains original proportions&lt;br/&gt;â€¢ Centers on black background&lt;br/&gt;â€¢ No image distortion]
        MEMOPTIM[ğŸ’¾ Memory Optimization&lt;br/&gt;â€¢ Process images one at a time&lt;br/&gt;â€¢ Cleanup after each image&lt;br/&gt;â€¢ Efficient resource usage]
        PROGRESS[ğŸ“Š Progress Tracking&lt;br/&gt;â€¢ Real-time progress display&lt;br/&gt;â€¢ Current image counter&lt;br/&gt;â€¢ User feedback]
        BATCH[ğŸ”„ Batch Processing&lt;br/&gt;â€¢ Handles multiple images&lt;br/&gt;â€¢ Automatic sorting&lt;br/&gt;â€¢ Efficient pipeline]
    end
    
    %% Build and Deployment Subgraph
    subgraph DEPLOYMENT [ğŸš€ Build & Deployment Options]
        direction TB
        DEVRUN[ğŸ‘¨â€ğŸ’» Development Mode&lt;br/&gt;dotnet run path]
        BUILDRELEASE[ğŸ—ï¸ Release Build&lt;br/&gt;dotnet build -c Release]
        EXECUTABLE[ğŸ“¦ Standalone Executable&lt;br/&gt;./bin/Release/net8.0/ImgConcat]
        CROSSPLATFORM[ğŸŒ Cross-Platform&lt;br/&gt;â€¢ Windows support&lt;br/&gt;â€¢ macOS support&lt;br/&gt;â€¢ Linux support]
    end
    
    %% Style definitions for visual enhancement
    classDef startEnd fill:#e1f5fe,stroke:#01579b,stroke-width:3px,color:#000
    classDef process fill:#f3e5f5,stroke:#4a148c,stroke-width:2px,color:#000
    classDef decision fill:#fff3e0,stroke:#e65100,stroke-width:2px,color:#000
    classDef error fill:#ffebee,stroke:#c62828,stroke-width:2px,color:#000
    classDef success fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px,color:#000
    classDef config fill:#e3f2fd,stroke:#1565c0,stroke-width:2px,color:#000
    classDef library fill:#fce4ec,stroke:#880e4f,stroke-width:2px,color:#000
    
    %% Apply styles
    class START,END1,END2 startEnd
    class VALIDATEPATH,SCANDIR,FILTEREXT,LOADIMG,CREATECANVAS,RESIZEIMG,RUNFFMPEG process
    class CMDARGS,PATHEXISTS,READACCESS,IMGCOUNT,FFMPEGOK,IMGVALID,PROCESSLOOP,FFMPEGSTATUS decision
    class ERRORMSG1,ERRORMSG2,ERRORMSG3,ERRORMSG4,ERRORMSG5 error
    class SUCCESS,VERIFYVIDEO success
    class LOADCONFIG,INITPROGRESS config
    class IMGSHARP,FFMPEGCORE,SYSDRAW,NETCORE library